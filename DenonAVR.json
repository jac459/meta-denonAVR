{   "name":"DenonMarantzAVR",
    "manufacturer":"DenonMarantz",
    "type":"AVRECEIVER",
    "version":8,
    "compatible-meta":"1.0.4",
    "persistedvariables":{
        "MyDevices": "[]",
        "IsRegistered": false,
        "ToInitiate": true
    },
	"variables":{
		"NewDevice":"[]",
	    "DeviceURI": "",
        "DevicePort":"",
        "BrandCode":"",
		"BrandList":"{\"bc0\":\"Denon\",\"bc1\":\"Marantz\"}"
    },
    "register":{
        "registerheadertext": "Denon Marantz AVR",
        "registerdescription": "Please enter the IP address of your device. \n For example: 192.168.178.1 \n Port 8080 is used by default. Specify the port if different.",
        "command": {"type": "static", "command": ".", "queryresult": "$.*"}        
    },
    "discover": {
        "welcomeheadertext": "Denon Marantz AVR",
        "welcomedescription": "powered by meta v2 \n by JAC459 \n X \n Driver Development \n by stonie2oo4 & MarkusM",
        "initcommandset":[{
            "label":"", 
			"type":"static",
			"command":"$RegistrationCode",
			"queryresult":"",
			"evalwrite":[
			    {"variable":"NewDevice",    "value":"DYNAMIK let device = {\"ip\":\"\", \"port\":\"\", \"model_name\":\"\", \"brand\":\"\"}; device.ip = \"$Result\".split(\":\")[0]; device.port = (\"$Result\".split(\":\")[1]!=undefined?\"$Result\".split(\":\")[1]:\"8080\"); JSON.stringify(device); "},
			    {"variable":"DeviceURI",    "value":"DYNAMIK \"$Result\".split(\":\")[0] "},
			    {"variable":"DevicePort",   "value":"DYNAMIK \"$Result\".split(\":\")[1]!=undefined?\"$Result\".split(\":\")[1]:\"8080\" "}
			]},{
			"type":"http-rest",
			"command": "{\"verb\":\"get\",\"call\":\"http://$DeviceURI:$DevicePort/goform/Deviceinfo.xml\"}", 
            "queryresult" : "$.Device_Info",
            "evalwrite":[
                {"variable":"BrandCode",    "value":"DYNAMIK \"bc\"+JSON.parse(\"$Result\").BrandCode[0]"},
                {"variable":"NewDevice",    "value":"DYNAMIK let device = $NewDevice; device.model_name = JSON.parse(\"$Result\").ModelName[0]; let bl=$BrandList; let b=bl.$BrandCode; device.brand = (b!=undefined?b:\"Unknown Brand\"); JSON.stringify(device); "},
				{"variable":"MyDevices",    "value":"DYNAMIK let device = $NewDevice; let mydevices = $MyDevices; ((mydevices.findIndex(i=>i.ip==device.ip)==-1) ? mydevices.push(device) : mydevices); JSON.stringify(mydevices); "}
            ],			
			"evaldo":[{"test":"DYNAMIK let device = $NewDevice; device.model_name != undefined","then":"__PERSIST", "or":""}]}
        ],
        "command": {"type": "static", "command": "$MyDevices", "queryresult": "$.*"}    
    },
    "template":{
    "dynamicname":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").brand + \" \" + JSON.parse(\"$Result\").model_name DYNAMIK_INST_END",
    "dynamicid":  "DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").ip DYNAMIK_INST_END",
    "variables":{
        "MainPower": "",
        "MainInput": "",
        "MainVolumeAVR": "",
        "MainVolumePercent": "",
        "MainMute":"",
        "Zone2Power": "",
        "Zone2Input": "",
        "Zone2VolumeAVR": "",
        "Zone2VolumePercent": "",
        "Zone2Mute":"",
        "Zone3Power": "",
        "Zone3Input": "",
        "Zone3VolumeAVR": "",
        "Zone3VolumePercent": "",
        "Zone3Mute":"",
        "DenonURI": "DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").ip   DYNAMIK_INST_END",
        "DenonPort":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").port DYNAMIK_INST_END"
    },
    "labels":{
        "MainPower" :     {"label":"MainPower",    "listen":"MainPower"},
        "MainInput" :     {"label":"MainInput",    "listen":"MainInput"},
        "MainVolume" :    {"label":"MainVolume",   "listen":"MainVolumeAVR"},
        "MainMute" :      {"label":"MainMute",     "listen":"MainMute"},
        "Zone2Power" :    {"label":"Zone2Power",   "listen":"Zone2Power"},
        "Zone2Input" :    {"label":"Zone2Input",   "listen":"Zone2Input"},
        "Zone2Volume" :   {"label":"Zone2Volume",  "listen":"Zone2VolumeAVR"},
        "Zone2Mute" :     {"label":"Zone2Mute",    "listen":"Zone2Mute"},
        "Zone3Power" :    {"label":"Zone3Power",   "listen":"Zone3Power"},
        "Zone3Input" :    {"label":"Zone3Input",   "listen":"Zone3Input"},
        "Zone3Volume" :   {"label":"Zone3Volume",  "listen":"Zone3VolumeAVR"},
        "Zone3Mute" :     {"label":"Zone3Mute",    "listen":"Zone3Mute"}
    },
    "listeners":{
        "DenonMainStatus" : {"type":"http-rest", "isHub":false, "command": "{\"verb\":\"get\",\"call\":\"http://$DenonURI:$DenonPort/goform/formMainZone_MainZoneXmlStatusLite.xml\"}", "pooltime":"3000", "poolduration":"", 
            "queryresult" : "$.",
            "evalwrite" : [ 
                { "variable": "MainPower",          "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.Power[0].value[0]                                        " }, 
                { "variable": "MainInput",          "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.InputFuncSelect[0].value[0]                              " }, 
                { "variable": "MainVolumeAVR",      "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; Number(res.MasterVolume[0].value[0])+80                      " },
                { "variable": "MainVolumePercent",  "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; Math.round((Number(res.MasterVolume[0].value[0])+80)*100/98) " },
                { "variable": "MainMute",           "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.Mute[0].value[0]                                         " } 
            ]
        },
        "DenonZone2Status" : {"type":"http-rest", "isHub":false, "command": "{\"verb\":\"get\",\"call\":\"http://$DenonURI:$DenonPort/goform/formZone2_Zone2XmlStatusLite.xml\"}", "pooltime":"5000", "poolduration":"", 
            "queryresult" : "$.",
            "evalwrite" : [ 
                { "variable": "Zone2Power",         "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.Power[0].value[0]                                        " }, 
                { "variable": "Zone2Input",         "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.InputFuncSelect[0].value[0]                              " }, 
                { "variable": "Zone2VolumeAVR",     "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; Number(res.MasterVolume[0].value[0])+80                      " },
                { "variable": "Zone2VolumePercent", "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; Math.round((Number(res.MasterVolume[0].value[0])+80)*100/98) " },
                { "variable": "Zone2Mute",          "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.Mute[0].value[0]                                         " } 
            ]
        },
        "DenonZone3Status" : {"type":"http-rest", "isHub":false, "command": "{\"verb\":\"get\",\"call\":\"http://$DenonURI:$DenonPort/goform/formZone3_Zone3XmlStatusLite.xml\"}", "pooltime":"5000", "poolduration":"", 
            "queryresult" : "$.", 
            "evalwrite" : [ 
                { "variable": "Zone3Power",         "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.Power[0].value[0]                                        " }, 
                { "variable": "Zone3Input",         "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.InputFuncSelect[0].value[0]                              " }, 
                { "variable": "Zone3VolumeAVR",     "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; Number(res.MasterVolume[0].value[0])+80                      " },
                { "variable": "Zone3VolumePercent", "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; Math.round((Number(res.MasterVolume[0].value[0])+80)*100/98) " },
                { "variable": "Zone3Mute",          "value": "DYNAMIK let res = JSON.parse(\"$Result\")[0].item; res.Mute[0].value[0]                                         " } 
            ]
        }
    },
    "sliders":{
        "VOLUME": {"label":"", "unit" : "db", "listen" : "MainVolumePercent", "evaldo":[{"test":true, "then":"__VOLUMESET", "or":""}]}
    },
    "buttons":{
        "POWER ON":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?ZMON",      "evaldo":[{"test":true, "then":"__INITIALISE", "or":""}]},
        "POWER OFF":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?ZMOFF",     "evaldo":[{"test":"DYNAMIK \"$Zone2Power\"==\"OFF\" && \"$Zone3Power\"==\"OFF\" ", "then":"__CLEANUP", "or":""}]},
        "VOLUME UP":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MVUP"}, 
        "VOLUME DOWN":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MVDOWN"}, 
        "MUTE TOGGLE":        {"label":"", "type":"static",   "command":"",                                                                     "evaldo":[{"test":"DYNAMIK \"$MainMute\"==\"off\" ", "then":"__MUTEON", "or":"__MUTEOFF"}]},
        "__MUTEON":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MUON",      "evalwrite": [{"variable": "MainMute", "value": "on" }] },
        "__MUTEOFF":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MUOFF",     "evalwrite": [{"variable": "MainMute", "value": "off"}] },
        "CURSOR UP":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNCUP"},
        "CURSOR DOWN":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNCDN"},
        "CURSOR LEFT":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNCLT"},
        "CURSOR RIGHT":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNCRT"},
        "CURSOR ENTER":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNENT"},
        "MENU":               {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNMEN ON"},
        "BACK":               {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MNRTN"},
        "ECOMODE ON":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?ECOON"},
        "ECOMODE AUTO":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?ECOAUTO"},
        "ECOMODE OFF":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?ECOOFF"},
        "INPUT BD":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIBD"},
        "INPUT GAME":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIGAME"},
        "INPUT CD":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SICD"},
        "INPUT DVD":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIDVD"},
        "INPUT SAT/CBL":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SISAT/CBL"},
        "INPUT TUNER":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SITUNER"},
        "INPUT TV":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SITV"},
        "INPUT MPLAY":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIMPLAY"},
        "INPUT HDRADIO":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIHDRADIO"},
        "INPUT NET":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SINET"},
        "INPUT PANDORA":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIPANDORA"},
        "INPUT SIRIUSXM":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SISIRIUSXM"},
        "INPUT SPOTIFY":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SISPOTIFY"},
        "INPUT LASTFM":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SILASTFM"},
        "INPUT FLICKR":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIFLICKR"},
        "INPUT IRADIO":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIIRADIO"},
        "INPUT SERVER":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SISERVER"},
        "INPUT FAVORITES":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIFAVORITES"},
        "INPUT AUX1":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAUX1"},
        "INPUT AUX2":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAUX2"},
        "INPUT AUX3":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAUX3"},
        "INPUT AUX4":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAUX4"},
        "INPUT AUX5":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAUX5"},
        "INPUT AUX6":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAUX6"},
        "INPUT BT":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIBT"},
        "INPUT USB":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIUSB"},
        "INPUT AIRPLAY":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?SIAIRPLAY"},
        "SUR:MOVIE":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSMOVIE"},
        "SUR:MUSIC":          {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSMUSIC"},
        "SUR:GAME":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSGAME"},
        "SUR:DIRECT":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSDIRECT"},
        "SUR:PURE DIRECT":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSPURE DIRECT"},
        "SUR:STEREO":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSSTEREO"},
        "SUR:AUTO":           {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MSAUTO"},
        "__VOLUMESET":        {"label":"", "type":"http-get", "command":"DYNAMIK \"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?MV\" + (\"0\" + Math.round(98*Number($MainVolumePercent)/100).toString() ).slice(-2)"},

        "POWER Z2 ON":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2ON",      "evaldo":[{"test":true, "then":"__INITIALISE", "or":""}]},
        "POWER Z2 OFF":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2OFF",     "evaldo":[{"test":"DYNAMIK \"$MainPower\"==\"OFF\" && \"$Zone3Power\"==\"OFF\" ", "then":"__CLEANUP", "or":""}]},
        "VOLUME Z2 UP":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2UP"}, 
        "VOLUME Z2 DOWN":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2DOWN"}, 
        "MUTE Z2 TOGGLE":     {"label":"", "type":"static",   "command":"",                                                                     "evaldo":[{"test":"DYNAMIK \"$Zone2Mute\"==\"off\" ", "then":"__Z2MUTEON", "or":"__Z2MUTEOFF"}]},
        "__Z2MUTEON":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2MUON",    "evalwrite": [{"variable": "Zone2Mute", "value": "on" }] },
        "__Z2MUTEOFF":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2MUOFF",   "evalwrite": [{"variable": "Zone2Mute", "value": "off"}] },
        "INPUT Z2 BD":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2BD"},
        "INPUT Z2 GAME":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2GAME"},
        "INPUT Z2 CD":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2CD"},
        "INPUT Z2 DVD":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2DVD"},
        "INPUT Z2 SAT/CBL":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2SAT/CBL"},
        "INPUT Z2 TUNER":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2TUNER"},
        "INPUT Z2 TV":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2TV"},
        "INPUT Z2 MPLAY":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2MPLAY"},
        "INPUT Z2 HDRADIO":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2HDRADIO"},
        "INPUT Z2 NET":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2NET"},
        "INPUT Z2 PANDORA":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2PANDORA"},
        "INPUT Z2 SIRIUSXM":  {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2SIRIUSXM"},
        "INPUT Z2 SPOTIFY":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2SPOTIFY"},
        "INPUT Z2 LASTFM":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2LASTFM"},
        "INPUT Z2 FLICKR":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2FLICKR"},
        "INPUT Z2 IRADIO":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2IRADIO"},
        "INPUT Z2 SERVER":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2SERVER"},
        "INPUT Z2 FAVORITES": {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2FAVORITES"},
        "INPUT Z2 AUX1":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2AUX1"},
        "INPUT Z2 AUX2":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2AUX2"},
        "INPUT Z2 AUX3":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2AUX3"},
        "INPUT Z2 AUX4":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2AUX4"},
        "INPUT Z2 AUX5":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2AUX5"},
        "INPUT Z2 AUX6":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2AUX6"},
        "INPUT Z2 BT":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2BT"},
        "INPUT Z2 USB":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z2USB"},

        "POWER Z3 ON":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3ON",      "evaldo":[{"test":true, "then":"__INITIALISE", "or":""}]},
        "POWER Z3 OFF":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3OFF",     "evaldo":[{"test":"DYNAMIK \"$MainPower\"==\"OFF\" && \"$Zone2Power\"==\"OFF\" ", "then":"__CLEANUP", "or":""}]},
        "VOLUME Z3 UP":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3UP"}, 
        "VOLUME Z3 DOWN":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3DOWN"}, 
        "MUTE Z3 TOGGLE":     {"label":"", "type":"static",   "command":"",                                                                     "evaldo":[{"test":"DYNAMIK \"$Zone3Mute\"==\"off\" ", "then":"__Z3MUTEON", "or":"__Z3MUTEOFF"}]},
        "__Z3MUTEON":         {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3MUON",    "evalwrite": [{"variable": "Zone3Mute", "value": "on" }] },
        "__Z3MUTEOFF":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3MUOFF",   "evalwrite": [{"variable": "Zone3Mute", "value": "off"}] },
        "INPUT Z3 BD":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3BD"},
        "INPUT Z2 GAME":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3GAME"},
        "INPUT Z3 CD":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3CD"},
        "INPUT Z3 DVD":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3DVD"},
        "INPUT Z3 SAT/CBL":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3SAT/CBL"},
        "INPUT Z3 TUNER":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3TUNER"},
        "INPUT Z3 TV":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3TV"},
        "INPUT Z3 MPLAY":     {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3MPLAY"},
        "INPUT Z3 HDRADIO":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3HDRADIO"},
        "INPUT Z3 NET":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3NET"},
        "INPUT Z3 PANDORA":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3PANDORA"},
        "INPUT Z3 SIRIUSXM":  {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3SIRIUSXM"},
        "INPUT Z3 SPOTIFY":   {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3SPOTIFY"},
        "INPUT Z3 LASTFM":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3LASTFM"},
        "INPUT Z3 FLICKR":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3FLICKR"},
        "INPUT Z3 IRADIO":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3IRADIO"},
        "INPUT Z3 SERVER":    {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3SERVER"},
        "INPUT Z3 FAVORITES": {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3FAVORITES"},
        "INPUT Z3 AUX1":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3AUX1"},
        "INPUT Z3 AUX2":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3AUX2"},
        "INPUT Z3 AUX3":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3AUX3"},
        "INPUT Z3 AUX4":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3AUX4"},
        "INPUT Z3 AUX5":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3AUX5"},
        "INPUT Z3 AUX6":      {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3AUX6"},
        "INPUT Z3 BT":        {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3BT"},
        "INPUT Z3 USB":       {"label":"", "type":"http-get", "command":"http://$DenonURI:$DenonPort/goform/formiPhoneAppDirect.xml?Z3USB"}
    }
    }
}
